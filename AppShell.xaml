<Shell xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
       xmlns:local="clr-namespace:NutikasPaevik"
       x:Class="NutikasPaevik.AppShell"
       FlyoutWidth="200"
       FlyoutBehavior="Flyout"
       FlyoutBackgroundColor="#f5f5f5"
       Title="NutikasPaevik">

    <Shell.Resources>
        <ResourceDictionary>
            <Style x:Key="FlyoutFooterButton" TargetType="Button">
                <Setter Property="BackgroundColor" Value="Transparent"/>
                <Setter Property="TextColor" Value="#495057"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="ImageSource" Value="{Binding Source={RelativeSource Self}, Path=ImageSource}"/>
                <Setter Property="VerticalOptions" Value="Center"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
                <Style.Triggers>
                    <Trigger TargetType="Button" Property="IsPressed" Value="True">
                        <Setter Property="Opacity" Value="0.7"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Shell.Resources>

    <Shell.FlyoutHeader>
        <StackLayout HeightRequest="100">
            <Image Source="logo.png"
                   Margin="0,10,0,0"
                   HeightRequest="80"
                   HorizontalOptions="Center"/>
        </StackLayout>
    </Shell.FlyoutHeader>

    <FlyoutItem Title="Koduleht" Icon="contacts.png">
        <ShellContent Route="Koduleht" ContentTemplate="{DataTemplate local:HomePage}"/>
    </FlyoutItem>

    <FlyoutItem Title="PÃ¤evik" Icon="todo.png">
        <ShellContent Route="Paevik" ContentTemplate="{DataTemplate local:DiaryPage}"/>
    </FlyoutItem>

    <FlyoutItem Title="Planeeria" Icon="reminders.png">
        <ShellContent Route="Planeeria" ContentTemplate="{DataTemplate local:PlannerPage}"/>
    </FlyoutItem>

    <Shell.FlyoutFooter>
        <Grid ColumnDefinitions="*,*,*" 
              HeightRequest="60"
              Padding="30,0"
              ColumnSpacing="0">
            <Button Grid.Column="0"
                    HorizontalOptions="Center"
                    ImageSource="account.png"
                    Clicked="OnProfileClicked"
                    Padding="0,0"
                    Margin="0,0,5,0"
                    BackgroundColor="Transparent"
                    Style="{StaticResource FlyoutFooterButton}"/>
            <Button Grid.Column="1"
                    ImageSource="settings.png"
                    Clicked="OnSettingsClicked"
                    Padding="4,0"
                    Margin="0,0,0,0"
                    HorizontalOptions="Center"
                    BackgroundColor="Transparent"
                    Style="{StaticResource FlyoutFooterButton}"/>
            <Button Grid.Column="2"
                    ImageSource="logout2.png"
                    Padding="0,0"
                    Margin="15,0,0,0"
                    Clicked="OnLogoutClicked"
                    HorizontalOptions="End"
                    BackgroundColor="Transparent"
                    Style="{StaticResource FlyoutFooterButton}"/>
        </Grid>
    </Shell.FlyoutFooter>
</Shell>